{% extends "base.html" %}

{% block title %}Contact - Resume Analyzer{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Header -->
    <div class="row mb-5">
        <div class="col-lg-8 mx-auto text-center">
            <div class="contact-header">
                <div class="contact-icon text-primary mb-4">
                    <i class="fas fa-envelope fa-4x"></i>
                </div>
                <h1 class="display-4 fw-bold mb-3">Get in Touch</h1>
                <p class="lead text-muted">
                    Have questions about our resume analyzer or need support? We're here to help!
                </p>
            </div>
        </div>
    </div>

    <div class="row g-5">
        <!-- Contact Information -->
        <div class="col-lg-4">
            <div class="contact-info">
                <h3 class="section-title mb-4">
                    <i class="fas fa-info-circle me-2"></i>Contact Information
                </h3>
                
                <div class="contact-methods">
                    <div class="contact-method">
                        <div class="method-icon text-primary">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="method-content">
                            <h5>Email Support</h5>
                            <p class="text-muted">support@resumeanalyzer.com</p>
                            <small class="text-muted">We typically respond within 24 hours</small>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="method-icon text-success">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div class="method-content">
                            <h5>Live Chat</h5>
                            <p class="text-muted">Available 9 AM - 6 PM EST</p>
                            <small class="text-muted">Chat with our support team in real-time</small>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="method-icon text-info">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="method-content">
                            <h5>Help Center</h5>
                            <p class="text-muted">Self-service resources</p>
                            <small class="text-muted">Find answers to common questions</small>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="method-icon text-warning">
                            <i class="fas fa-bug"></i>
                        </div>
                        <div class="method-content">
                            <h5>Bug Reports</h5>
                            <p class="text-muted">bugs@resumeanalyzer.com</p>
                            <small class="text-muted">Help us improve by reporting issues</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Form -->
        <div class="col-lg-8">
            <div class="contact-form-section">
                <h3 class="section-title mb-4">
                    <i class="fas fa-paper-plane me-2"></i>Send us a Message
                </h3>
                
                <div class="contact-form-card">
                    <form class="contact-form" onsubmit="handleContactForm(event)">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="firstName" class="form-label fw-semibold">
                                    <i class="fas fa-user me-2"></i>First Name
                                </label>
                                <input type="text" class="form-control form-control-lg" id="firstName" 
                                       required value="{{ session.username.split()[0] if session.username else '' }}">
                            </div>
                            
                            <div class="col-md-6">
                                <label for="lastName" class="form-label fw-semibold">
                                    <i class="fas fa-user me-2"></i>Last Name
                                </label>
                                <input type="text" class="form-control form-control-lg" id="lastName" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="email" class="form-label fw-semibold">
                                <i class="fas fa-envelope me-2"></i>Email Address
                            </label>
                            <input type="email" class="form-control form-control-lg" id="email" 
                                   required value="{{ session.email if session.email else '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="subject" class="form-label fw-semibold">
                                <i class="fas fa-tag me-2"></i>Subject
                            </label>
                            <select class="form-select form-select-lg" id="subject" required>
                                <option value="">Choose a topic...</option>
                                <option value="general">General Inquiry</option>
                                <option value="technical">Technical Support</option>
                                <option value="bug">Bug Report</option>
                                <option value="feature">Feature Request</option>
                                <option value="account">Account Issues</option>
                                <option value="feedback">Feedback</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="mb-4">
                            <label for="message" class="form-label fw-semibold">
                                <i class="fas fa-comment me-2"></i>Message
                            </label>
                            <textarea class="form-control form-control-lg" id="message" rows="6" 
                                      required placeholder="Please describe your question or issue in detail..."></textarea>
                            <div class="form-text">
                                <small class="text-muted">
                                    <i class="fas fa-info-circle me-1"></i>
                                    Please provide as much detail as possible to help us assist you better.
                                </small>
                            </div>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <span class="btn-text">
                                    <i class="fas fa-paper-plane me-2"></i>Send Message
                                </span>
                                <span class="btn-loading" style="display: none;">
                                    <span class="spinner-border spinner-border-sm me-2"></span>
                                    Sending...
                                </span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="faq-section">
                <h2 class="section-title text-center mb-5">
                    <i class="fas fa-question-circle me-2"></i>Frequently Asked Questions
                </h2>
                
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                        How accurate is the resume analysis?
                                    </button>
                                </h2>
                                <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Our analysis uses advanced machine learning algorithms including TF-IDF vectorization and cosine similarity. 
                                        While very accurate for keyword matching and content similarity, we recommend using it as a guide 
                                        alongside human judgment for best results.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                        Is my resume data secure?
                                    </button>
                                </h2>
                                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes! All processing happens locally on our servers, and we don't permanently store your resume content. 
                                        Only analysis results and metadata are saved to your account history. Your privacy is our priority.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                        What file formats are supported?
                                    </button>
                                </h2>
                                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Currently, we support PDF files only. Make sure your PDF contains selectable text 
                                        (not scanned images) for the best analysis results. We're working on adding support for 
                                        Word documents in the future.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                        How can I improve my match score?
                                    </button>
                                </h2>
                                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Focus on including relevant keywords from the job description in your resume. 
                                        Add missing skills that you possess, tailor your experience descriptions to match 
                                        the job requirements, and ensure your key qualifications are prominently featured.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                        Is there a limit on how many resumes I can analyze?
                                    </button>
                                </h2>
                                <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        No, there's no limit! You can analyze as many resumes as you want. 
                                        All your analysis history is saved to your account so you can track your 
                                        progress and improvements over time.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Hours -->
    <div class="row mt-5">
        <div class="col-lg-6 mx-auto">
            <div class="support-hours">
                <h3 class="text-center mb-4">
                    <i class="fas fa-clock me-2"></i>Support Hours
                </h3>
                
                <div class="hours-table">
                    <div class="hours-row">
                        <span class="day">Monday - Friday</span>
                        <span class="time">9:00 AM - 6:00 PM EST</span>
                    </div>
                    <div class="hours-row">
                        <span class="day">Saturday</span>
                        <span class="time">10:00 AM - 4:00 PM EST</span>
                    </div>
                    <div class="hours-row">
                        <span class="day">Sunday</span>
                        <span class="time">Closed</span>
                    </div>
                </div>
                
                <div class="text-center mt-3">
                    <small class="text-muted">
                        <i class="fas fa-info-circle me-1"></i>
                        Response times may be longer during peak periods
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
function handleContactForm(event) {
    event.preventDefault();
    
    const form = event.target;
    const btnText = form.querySelector('.btn-text');
    const btnLoading = form.querySelector('.btn-loading');
    const submitBtn = form.querySelector('button[type="submit"]');
    
    // Show loading state
    btnText.style.display = 'none';
    btnLoading.style.display = 'inline-block';
    submitBtn.disabled = true;
    
    // Simulate form submission (since this is a static demo)
    setTimeout(() => {
        // Reset form
        form.reset();
        
        // Show success message
        const alertDiv = document.createElement('div');
        alertDiv.className = 'alert alert-success alert-dismissible fade show mt-3';
        alertDiv.innerHTML = `
            <i class="fas fa-check-circle me-2"></i>
            Thank you for your message! We'll get back to you within 24 hours.
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        form.appendChild(alertDiv);
        
        // Reset button state
        btnText.style.display = 'inline-block';
        btnLoading.style.display = 'none';
        submitBtn.disabled = false;
        
        // Scroll to success message
        alertDiv.scrollIntoView({ behavior: 'smooth' });
    }, 2000);
}
</script>
{% endblock %}
